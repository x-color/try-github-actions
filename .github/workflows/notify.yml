name: notify

on:
  push:
    branches:
      - notify-slack

jobs:
  notify:
    runs-on: ubuntu-18.04
    steps:
    - name: exec
      run: | 
        echo 'execute!!'

    - name: Slack Notification Success
      env:
        SLACK_BOT_TOKEN: ${{ secrets.SLACK_BOT_TOKEN }}
      uses: pullreminders/slack-action@master
      with:
        args: >
          {
            \"channel\":\"CQSASTL14\",
            \"text\":\"Sheep Say < Hello!!\",
            \"blocks\": [
              {
                \"type\": \"section\",
                \"text\": {
                  \"type\": \"mrkdwn\",
                  \"text\": \":rocket: ${{ github.sha }}\"
                }
              },
              {
                \"type\": \"section\",
                \"fields\": [
                  {
                    \"type\": \"mrkdwn\",
                    \"text\": \"*Type:*\nComputer (laptop)\"
                  },
                  {
                    \"type\": \"mrkdwn\",
                    \"text\": \"*When:*\nSubmitted Aut 10\"
                  },
                  {
                    \"type\": \"mrkdwn\",
                    \"text\": \"*Last Update:*\nMar 10, 2015 (3 years, 5 months)\"
                  },
                  {
                    \"type\": \"mrkdwn\",
                    \"text\": \"*Reason:*\nAll vowel keys aren't working.\"
                  },
                  {
                    \"type\": \"mrkdwn\",
                    \"text\": \"*Specs:*\nCheetah Pro 15 - Fast, really fast\"
                  }
                ]
              }
            ]
          }